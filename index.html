<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Hikayeni Bul</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap');
*{box-sizing:border-box;margin:0;padding:0;font-family:'Poppins',sans-serif;}
body{height:100vh;overflow:hidden;color:#fff;background:radial-gradient(circle at top,#1b2735,#090a0f 60%),linear-gradient(120deg,#0f2027,#203a43,#2c5364);background-blend-mode:screen;}
.stars{position:fixed;inset:0;background:url("https://raw.githubusercontent.com/JulianLaval/canvas-particle-network/master/img/stars.png");animation:moveStars 120s linear infinite;opacity:.4;}
@keyframes moveStars{0%{background-position:0 0}100%{background-position:-5000px 2000px}}
.app{position:relative;max-width:420px;margin:auto;top:50%;transform:translateY(-50%);background:rgba(10,15,25,.65);backdrop-filter:blur(18px);border-radius:28px;padding:28px;box-shadow:0 30px 80px rgba(0,0,0,.7);}
h1{text-align:center;font-size:30px;font-weight:800;letter-spacing:.5px;margin-bottom:10px;}
.subtitle{text-align:center;opacity:.85;margin-bottom:18px;}
button{width:100%;margin-top:18px;padding:14px;border:none;border-radius:14px;font-size:16px;font-weight:600;cursor:pointer;background:linear-gradient(135deg,#ff9800,#ff5722);color:#000;transition:.3s;}
button:hover{transform:translateY(-2px) scale(1.03);box-shadow:0 10px 25px rgba(255,152,0,.4);}
input,select{width:100%;margin-top:12px;padding:14px;border-radius:14px;border:none;background:rgba(255,255,255,.1);color:#fff;font-size:15px;}
input::placeholder{color:#ccc;}
.options{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:18px;}
.option{padding:14px;text-align:center;border-radius:14px;background:rgba(255,255,255,.08);cursor:pointer;transition:.3s;}
.option:hover{background:rgba(255,255,255,.18);}
.option.active{background:linear-gradient(135deg,#4caf50,#8bc34a);color:#000;font-weight:700;box-shadow:0 0 15px #4caf50;}
.story{margin-top:20px;line-height:1.8;font-size:15px;white-space:pre-wrap;}
.orb-wrap{text-align:center;margin-top:20px;}
.orb{width:110px;height:110px;margin:auto;border-radius:50%;background:radial-gradient(circle,#ffeb3b,#ff9800,#ff5722);box-shadow:0 0 40px gold;display:flex;align-items:center;justify-content:center;font-size:44px;cursor:pointer;animation:orbPulse 2s infinite;}
@keyframes orbPulse{0%{transform:scale(1)}50%{transform:scale(1.12)}100%{transform:scale(1)}}
.hidden{display:none;}
.fade{animation:fade .6s ease;}
@keyframes fade{from{opacity:0}to{opacity:1}}
.socials{display:flex;justify-content:space-around;margin-top:18px;}
.socials button{width:30%;padding:10px;font-size:14px;}
</style>
</head>
<body>
<div class="stars"></div>
<div class="app">

  <!-- STEP 1 -->
  <div id="step1">
    <h1>Hikayeni Bul</h1>
    <p class="subtitle">Ä°Ã§indeki karakteri keÅŸfet</p>
    <button onclick="nextStep()">BaÅŸla</button>
  </div>

  <!-- STEP 2 -->
  <div id="step2" class="hidden fade">
    <h1>Seni TanÄ±yalÄ±m</h1>
    <input id="name" placeholder="Ä°smini yaz">
    <select id="gender">
      <option value="">Cinsiyetini SeÃ§</option>
      <option value="Erkek">Erkek</option>
      <option value="KadÄ±n">KadÄ±n</option>
    </select>
    <input id="age" type="number" placeholder="YaÅŸÄ±nÄ± yaz">
    <div class="options" id="charOpts">
      <div class="option" onclick="selectTrait(this,'lider')">Lider</div>
      <div class="option" onclick="selectTrait(this,'bilge')">Bilge</div>
      <div class="option" onclick="selectTrait(this,'cesur')">Cesur</div>
      <div class="option" onclick="selectTrait(this,'sessiz')">Sessiz GÃ¼Ã§</div>
    </div>
    <div class="options" id="fearOpts">
      <div class="option" onclick="selectTrait(this,'karanlik')">KaranlÄ±k</div>
      <div class="option" onclick="selectTrait(this,'tekKalmak')">Teke Kalmak</div>
      <div class="option" onclick="selectTrait(this,'itirmek')">Kaybetmek</div>
      <div class="option" onclick="selectTrait(this,'bilinmez')">Bilinmez</div>
    </div>
    <button onclick="finish()">Hikayeni GÃ¶r</button>
  </div>

  <!-- RESULT -->
  <div id="result" class="hidden fade">
    <h1>Senin Hikayen</h1>
    <div class="story" id="story"></div>
    <div class="orb-wrap">
      <div class="orb" onclick="openOrb()">ðŸ”®</div>
      <p style="margin-top:10px;font-size:13px;opacity:.85">Bu enerji senin yolunu temsil ediyor</p>
    </div>
    <div id="orbContent" class="hidden fade">
      <p id="animal"></p>
      <p id="advice"></p>
      <button onclick="playMusic()">ðŸŽµ MÃ¼ziÄŸi BaÅŸlat</button>
    </div>
    <div class="socials">
      <button onclick="shareWhatsApp()">WhatsApp</button>
      <button onclick="shareInstagram()">Instagram</button>
      <button onclick="shareTikTok()">TikTok</button>
    </div>
    <button onclick="location.reload()">Yeniden Dene</button>
  </div>

</div>

<audio id="music" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
</audio>

<script>
let trait=""; let fear=""; let orbOpened=false;

function nextStep(){
  step1.classList.add("hidden");
  step2.classList.remove("hidden");
}

function selectTrait(el,val){
  // Remove previous active
  el.parentElement.querySelectorAll(".option").forEach(o=>o.classList.remove("active"));
  el.classList.add("active");
  if(el.parentElement.id=="charOpts") trait=val;
  if(el.parentElement.id=="fearOpts") fear=val;
}

const data = {
  stories:{
    lider:"{name}, doÄŸuÅŸtan lider ruhlusun. Ä°nsanlar fark etmese bile, bulunduÄŸun ortamÄ±n enerjisini deÄŸiÅŸtiriyorsun. YalnÄ±z yÃ¼rÃ¼dÃ¼ÄŸÃ¼n yollar seni gÃ¼Ã§lÃ¼ kÄ±lÄ±yor.",
    bilge:"{name}, sessiz ve bilge bir insansÄ±n. SessizliÄŸin iÃ§inde bÃ¼yÃ¼k bir gÃ¼Ã§ saklÄ±. Zaman senin lehine Ã§alÄ±ÅŸÄ±yor.",
    cesur:"{name}, korkularÄ±nÄ±n Ã¼stÃ¼ne yÃ¼rÃ¼yorsun. Her adÄ±mÄ±n bir sÄ±nav ama sen geri dÃ¶nmÃ¼yorsun.",
    sessiz:"{name}, gÃ¶rÃ¼nmeyen ama hissedilen gÃ¼Ã§sÃ¼n. Herkes konuÅŸurken sen izliyorsun ve doÄŸru anda hamleni yapÄ±yorsun."
  },
  animals:["ðŸº Kurt","ðŸ¦… Kartal","ðŸ¯ Kaplan","ðŸ¦ Aslan"],
  advices:["Yoluna inan ve devam et","SabÄ±rlÄ± ol, kararlÄ±lÄ±kla ilerle","KÃ¼Ã§Ã¼k adÄ±mlar bÃ¼yÃ¼k fark yaratÄ±r","Cesaretini kaybetme"]
};

function finish(){
  let name=document.getElementById("name").value.trim();
  let g=document.getElementById("gender").value;
  let age=document.getElementById("age").value;

  const charEl=document.querySelector("#charOpts .option.active");
  const fearEl=document.querySelector("#fearOpts .option.active");

  if(!name || !g || !age || !charEl || !fearEl){
    alert("LÃ¼tfen tÃ¼m alanlarÄ± doldur");
    return;
  }

  step2.classList.add("hidden");
  result.classList.remove("hidden");

  // Typewriter effect
  const storyEl=document.getElementById("story");
  const text=data.stories[trait].replace("{name}",name);
  storyEl.innerText="";
  let i=0;
  const typer=setInterval(()=>{
    storyEl.innerText+=text[i]||"";
    i++;
    if(i>=text.length) clearInterval(typer);
  },25);

  // Random animal & advice
  document.getElementById("animal").innerText="ðŸ¾ "+data.animals[Math.floor(Math.random()*data.animals.length)];
  document.getElementById("advice").innerText="ðŸ’¡ "+data.advices[Math.floor(Math.random()*data.advices.length)];
}

// Orb
function openOrb(){
  if(!orbOpened){
    document.getElementById("orbContent").classList.remove("hidden");
    orbOpened=true;
  }
}

// Music
function playMusic(){
  const music=document.getElementById("music");
  const sources=["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",
                 "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"];
  const randomSrc=sources[Math.floor(Math.random()*sources.length)];
  music.src=randomSrc;
  music.play().catch(()=>alert("Telefonunuzda ses aÃ§Ä±lmalÄ±dÄ±r!"));
}

// Social share
function shareWhatsApp(){window.open("https://api.whatsapp.com/send?text="+encodeURIComponent(document.getElementById("story").innerText));}
function shareInstagram(){alert("Instagram story paylaÅŸÄ±mÄ± iÃ§in ekran gÃ¶rÃ¼ntÃ¼sÃ¼ alÄ±p paylaÅŸmanÄ±z gerekmektedir.");}
function shareTikTok(){alert("TikTok paylaÅŸÄ±mÄ± iÃ§in ekran gÃ¶rÃ¼ntÃ¼sÃ¼ alÄ±p paylaÅŸmanÄ±z gerekmektedir.");}

</script>
</body>
</html>
