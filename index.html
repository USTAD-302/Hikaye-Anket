<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>UstadHikaye â€“ KiÅŸilik ve Karakter Hikayen</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
margin:0;
font-family:Segoe UI, sans-serif;
background:linear-gradient(-45deg,#0f2027,#203a43,#2c5364,#000);
background-size:400% 400%;
animation:bg 15s ease infinite;
color:#fff;
}
@keyframes bg{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.container{max-width:430px;margin:auto;padding:20px}
.card{background:rgba(0,0,0,.65);padding:22px;border-radius:22px;margin-bottom:20px}
h1{text-align:center}
input,select,button{
width:100%;padding:12px;margin-top:10px;
border-radius:12px;border:none;font-size:16px
}
button{background:#ff9800;font-weight:bold;cursor:pointer}
.radio-group{display:flex;gap:10px;margin-top:10px}
.radio-group button{flex:1}
.story{line-height:1.7;margin-top:10px}
.magic-box{font-size:50px;text-align:center;cursor:pointer;margin:15px}
.hidden{display:none}
</style>
</head>

<body>
<div class="container">

<!-- STEP 1 -->
<div class="card" id="step1">
<h1>HoÅŸ geldin</h1>
<input id="name" placeholder="AdÄ±n">
<div class="radio-group">
<button onclick="setGender('erkek')">ğŸ‘¨ Erkek</button>
<button onclick="setGender('kadin')">ğŸ‘© KadÄ±n</button>
</div>

<label>YaÅŸÄ±n: <b id="ageShow">18</b></label>
<input type="range" min="10" max="70" value="18" oninput="ageShow.innerText=this.value">

<button onclick="goStep2()">Ä°leri</button>
</div>

<!-- STEP 2 -->
<div class="card hidden" id="step2">
<h1>Seni TanÄ±yalÄ±m</h1>

<label>NasÄ±l birisin?</label>
<select id="power">
<option value="">SeÃ§</option>
<option>Lider</option>
<option>SabÄ±rlÄ±</option>
<option>Cesur</option>
<option>AkÄ±llÄ±</option>
</select>

<label>Neden korkuyorsun?</label>
<select id="fear">
<option value="">SeÃ§</option>
<option>KaranlÄ±k</option>
<option>YalnÄ±z kalmak</option>
<option>Kaybetmek</option>
<option>Bilinmezlik</option>
</select>

<button onclick="generate()">Hikayeni GÃ¶r</button>
</div>

<!-- RESULT -->
<div class="card hidden" id="result">
<div class="story" id="story"></div>

<div class="magic-box" onclick="openBox()">ğŸ”®</div>
<p id="boxText">Kutuyu 3 kez tÄ±kla</p>

<div id="magicContent" class="hidden">
<button onclick="playMusic()">ğŸµ MÃ¼ziÄŸi BaÅŸlat</button>
<p id="character"></p>
<p id="animal"></p>
<p id="advice"></p>

<button onclick="shareWA()">WhatsApp</button>
<button onclick="alert('Instagram app Ã¼zerinden paylaÅŸÄ±lÄ±r')">Instagram</button>
<button onclick="alert('TikTok app Ã¼zerinden paylaÅŸÄ±lÄ±r')">TikTok</button>
</div>
</div>

<audio id="music"></audio>

<script>
let gender="", boxClick=0;

function setGender(g){gender=g}

function goStep2(){
if(!gender){alert("Cinsiyet seÃ§");return;}
step1.classList.add("hidden");
step2.classList.remove("hidden");
}

function generate(){
let name=nameInput();
let age=document.querySelector("input[type=range]").value;
let power=powerSel();
let fear=fearSel();

if(!power||!fear){alert("TÃ¼m seÃ§imleri yap");return;}

step2.classList.add("hidden");
result.classList.remove("hidden");

let characterText = buildCharacter(gender, age, power);

story.innerText =
`${name}, ${age} yaÅŸÄ±nda ${power.toLowerCase()} ruhlu bir ${
gender=="erkek"?"erkek":"kadÄ±n"
}. 
HayatÄ±nda ${fear.toLowerCase()} seni sÄ±nasa da, karakterin seni hep ayakta tutar.`;

character.innerText="ğŸ§  Karakterin: "+characterText;
animal.innerText="ğŸ¾ Ruh HayvanÄ±n: "+random(["Kurt","Aslan","Kartal","Panter","AyÄ±"]);
advice.innerText="ğŸ’¡ Tavsiye: "+random([
"Yoluna inan",
"Geri Ã§ekilme",
"Kendine gÃ¼ven",
"GÃ¼cÃ¼nÃ¼ kÃ¼Ã§Ã¼mseme"
]);

music.src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-"+(Math.floor(Math.random()*16)+1)+".mp3";
}

function buildCharacter(g,a,p){
if(g=="erkek" && p=="Lider") return "DoÄŸuÅŸtan Lider Erkek";
if(g=="kadin" && p=="Lider") return "GÃ¼Ã§lÃ¼ Lider KadÄ±n";
if(g=="kadin" && p=="SabÄ±rlÄ±") return "Derin Ruhlu KadÄ±n";
if(g=="erkek" && p=="Cesur") return "SavaÅŸÃ§Ä± Ruh Erkek";
return p+" Karakter";
}

function openBox(){
boxClick++;
boxText.innerText=`${3-boxClick} tÄ±k kaldÄ±`;
if(boxClick>=3) magicContent.classList.remove("hidden");
}

function playMusic(){music.play()}
function shareWA(){
window.open("https://wa.me/?text="+encodeURIComponent(story.innerText))
}

function random(arr){return arr[Math.floor(Math.random()*arr.length)]}
function nameInput(){return document.getElementById("name").value||"Sen"}
function powerSel(){return document.getElementById("power").value}
function fearSel(){return document.getElementById("fear").value}
</script>

</body>
</html>
