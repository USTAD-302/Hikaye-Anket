<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<title>UstadHikaye</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
margin:0;font-family:Segoe UI,sans-serif;color:#fff;
background:linear-gradient(-45deg,#0f2027,#203a43,#2c5364,#000);
background-size:400% 400%;animation:bg 15s ease infinite;
}
@keyframes bg{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.container{max-width:430px;margin:auto;padding:20px}
.card{background:rgba(0,0,0,.65);padding:22px;border-radius:22px;margin-bottom:20px}
h1{text-align:center}
input,select,button{width:100%;padding:12px;margin-top:10px;border-radius:12px;border:none;font-size:16px}
button{background:#ff9800;font-weight:bold;cursor:pointer}
.flags{display:flex;justify-content:center;gap:10px;margin:15px 0}
.flags img{width:45px;cursor:pointer;border-radius:6px;border:2px solid transparent}
.flags img.active{border:2px solid yellow}
.hidden{display:none}
.magic{font-size:50px;text-align:center;cursor:pointer;margin:15px}
</style>
</head>

<body>
<div class="container">

<!-- STEP 0 DIL -->
<div class="card" id="stepLang">
<h1 id="welcome">Hikayeni Bul</h1>
<div class="flags">
<img src="https://flagcdn.com/tr.svg" onclick="setLang('tr',this)" class="active">
<img src="https://flagcdn.com/az.svg" onclick="setLang('az',this)">
<img src="https://flagcdn.com/us.svg" onclick="setLang('en',this)">
</div>
<button onclick="goStep1()">Ä°leri</button>
</div>

<!-- STEP 1 -->
<div class="card hidden" id="step1">
<h1 id="step1title"></h1>
<input id="name" placeholder="">
<div style="display:flex;gap:10px">
<button onclick="gender='erkek'">ðŸ‘¨</button>
<button onclick="gender='kadin'">ðŸ‘©</button>
</div>
<label id="ageLabel"></label>
<input type="range" min="10" max="70" value="18" oninput="ageShow.innerText=this.value">
<b id="ageShow">18</b>
<button onclick="goStep2()">Ä°leri</button>
</div>

<!-- STEP 2 -->
<div class="card hidden" id="step2">
<label id="powerLabel"></label>
<select id="power"></select>

<label id="fearLabel"></label>
<select id="fear"></select>

<button onclick="generate()">Hikayeni GÃ¶r</button>
</div>

<!-- RESULT -->
<div class="card hidden" id="result">
<div id="story"></div>
<div class="magic" onclick="openBox()">ðŸ”®</div>
<p id="boxText"></p>

<div id="magicContent" class="hidden">
<button onclick="playMusic()">ðŸŽµ</button>
<p id="character"></p>
<p id="animal"></p>
<p id="advice"></p>
<button onclick="shareWA()">WhatsApp</button>
</div>
</div>

<audio id="music"></audio>

<script>
let lang="tr",gender="",box=0;

const texts={
tr:{
welcome:"Hikayeni Bul",
step1:"Seni TanÄ±yalÄ±m",
name:"AdÄ±n",
age:"YaÅŸÄ±n",
power:"NasÄ±l birisin?",
fear:"Neden korkuyorsun?",
powers:["Lider","SabÄ±rlÄ±","Cesur","AkÄ±llÄ±"],
fears:["KaranlÄ±k","YalnÄ±zlÄ±k","Kaybetmek","Bilinmezlik"]
},
az:{
welcome:"HekayÉ™ni Tap",
step1:"SÉ™ni TanÄ±yaq",
name:"AdÄ±n",
age:"YaÅŸÄ±n",
power:"NecÉ™ birisÉ™n?",
fear:"NÉ™dÉ™n qorxursan?",
powers:["Lider","SÉ™birli","CÉ™sur","AÄŸÄ±llÄ±"],
fears:["QaranlÄ±q","TÉ™klik","Ä°tirmÉ™k","NamÉ™lumluq"]
},
en:{
welcome:"Find Your Story",
step1:"Tell Us About You",
name:"Your Name",
age:"Your Age",
power:"What are you like?",
fear:"What do you fear?",
powers:["Leader","Patient","Brave","Smart"],
fears:["Darkness","Loneliness","Loss","Unknown"]
}
};

function setLang(l,el){
lang=l;
document.querySelectorAll(".flags img").forEach(i=>i.classList.remove("active"));
el.classList.add("active");
welcome.innerText=texts[l].welcome;
}

function goStep1(){
stepLang.classList.add("hidden");
step1.classList.remove("hidden");
step1title.innerText=texts[lang].step1;
name.placeholder=texts[lang].name;
ageLabel.innerText=texts[lang].age;
}

function goStep2(){
if(!gender){alert("Cinsiyet seÃ§");return;}
step1.classList.add("hidden");
step2.classList.remove("hidden");
powerLabel.innerText=texts[lang].power;
fearLabel.innerText=texts[lang].fear;

power.innerHTML='<option value="">SeÃ§</option>'+texts[lang].powers.map(p=>`<option>${p}</option>`).join('');
fear.innerHTML='<option value="">SeÃ§</option>'+texts[lang].fears.map(f=>`<option>${f}</option>`).join('');
}

function generate(){
step2.classList.add("hidden");
result.classList.remove("hidden");
story.innerText=`${name.value||""}, gÃ¼Ã§lÃ¼ bir yolculuÄŸun iÃ§indesin.`;
animal.innerText="ðŸ¾ "+["Kurt","Aslan","Kartal","Panter"][Math.floor(Math.random()*4)];
advice.innerText="ðŸ’¡ "+["Kendine inan","Yolundan dÃ¶nme","GÃ¼cÃ¼nÃ¼ unutma"][Math.floor(Math.random()*3)];
music.src=`https://www.soundhelix.com/examples/mp3/SoundHelix-Song-${Math.floor(Math.random()*16)+1}.mp3`;
}

function openBox(){box++;if(box>=3)magicContent.classList.remove("hidden")}
function playMusic(){music.play()}
function shareWA(){window.open("https://wa.me/?text="+encodeURIComponent(story.innerText))}
</script>
</body>
</html>
